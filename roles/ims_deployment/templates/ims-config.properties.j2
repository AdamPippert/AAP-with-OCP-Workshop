# IMS Configuration Template
# Generated by Ansible for {{ ims_deployment_environment }} environment

# IMS Database Configuration
ims.mainframe.host={{ ims_deployment_config.mainframe_host }}
ims.database.name={{ ims_deployment_config.database_name }}
ims.connection.pool.size={{ ims_deployment_config.connection_pool_size }}
ims.connection.timeout={{ ims_deployment_config.timeout_seconds }}

# Environment-specific settings
environment={{ ims_deployment_environment }}
log.level={{ 'DEBUG' if ims_deployment_environment == 'dev' else 'INFO' }}

# Performance tuning
connection.pool.min={{ (ims_deployment_config.connection_pool_size | int / 2) | int }}
connection.pool.max={{ ims_deployment_config.connection_pool_size }}
connection.validation.query=SELECT 1 FROM DUAL

# Feature flags
feature.enhanced.monitoring={{ 'true' if ims_deployment_environment in ['test', 'prod'] else 'false' }}
feature.connection.retry=true
feature.health.checks.extended={{ 'true' if ims_deployment_environment == 'prod' else 'false' }}

# Security settings
security.ssl.enabled={{ 'true' if ims_deployment_environment == 'prod' else 'false' }}
security.authentication.required=true

# Monitoring configuration
metrics.enabled=true
metrics.export.prometheus.enabled=true
metrics.export.jmx.enabled={{ 'true' if ims_deployment_environment == 'dev' else 'false' }}